---
layout: post
date: 2020-10-03 16:03 +0100
title: פונקציות
lesson_number: 5
---

נניח שנרצה לתכנת שלט טלוויזיה. נרצה שהשלט יעשה כמה דברים:

 - הדפסת מצב הטלויזיה 
 - להנמיך את הווליום באחד
 - להגביר את הווליום באחד
 - להעביר ערוצים

נכתוב קוד שבו נקלוט מהמשתמש פעולה(פונקציה) כמו להעביר ערוץ או להנמיך/להגביר את הווליום
ונגרום לשלט שלנו לבצע את הפעולה זו. 

כך נדמה את פעולת השלט.


## חלוקת הבעיה

נחלק את כתיבת הקוד של השלט לבעיות קטנות יותר שעל ידי פתירתן נפתור את הבעיה הגדולה:

- הגדרת משתנים בעבור הערוץ והווליום של הטלויזיה
- כתיבת הפונקציה שתדפיס את המשתנים הללו
- כתיבת הפונקציות שמגבירות ומנמיכות את הווליום
- כתיבת הפונקציה שמשנה את הערוץ 


## הגדרת המשתנים

תחילה, נרצה להגדיר בקוד שלנו את המשתנים שיזכרו את ערך הווליום והערוץ ולאתחל אותם ל0.
כתבו זאת בקוד שלכם. 


<details>
<summary>
פתרון
</summary>
 
```python
channel = 0
volume = 0
```
</details>


## כתיבת הפונקציה שתדפיס את הווליום והערוץ

כפי שלמדנו בשיעור על הדפסות, ניתן להדפיס את הערכים של הווליום והערוץ באמצעות פקודת ה `print()`

<br>
אך איך נעשה זאת על ידי כתיבת פונקציה? 


### איך כותבים פונקציה? 

#### מהי פונקציה

פונקציה היא מספר שורות קוד שאתה כותב בדרך כלל לפני הקוד ומאפשר לך לצמצם את הכתיבה של שורות הקוד הללו לקריאה לשם הפונקציה
כך בקוד שבו אותן שורות קוד חוזרות הרבה פעמים אפשר לקצר אותן לפונקציה


#### צורת כתיבה

כדי לכתוב פונקציה נשתמש במילת המפתח
`def`
אותה נכתוב כדי לציין לפייתון שנרצה להגדיר פונקציה. 
מיד לאחריה נוסיף את שם הפונקציה ולידו סוגריים ונקודתיים. 
התוצר  הסופי יראה כך:

```python
def name_of_the_function():
    # כאן נכתוב את הקוד של הפונקציה 
```

שם הפונקציה יכול להיות כל דבר כל עוד הוא תואם את קונבנציות השפה
<br>
את כל הקוד שנרצה לכתוב בתוך הפונקציה נכתוב אחרי 
`tab` 
בדומה לכתיבת  הקוד שבתוך תנאי 
`if`
.

למשל, נכתוב פונקציה שמדפיסה 
`Hello World`
.
<br> 
נגדיר פונקציה בשם 
`func` 
ונשתמש בפקודת 
`print()`
כדי להדפיס. 
<br> 
נסו לכתוב את הפונקציה בעצמיכם. 

<details>
<summary>
פתרון
</summary>
 
```python
def func():
  # Hello World הפונקציה מדפיסה את המשפט
  print("Hello World")
```

</details>

כדי להשתמש בפונקציה אנחנו צריכים לקרוא לה.  את זה נעשה על ידי כתיבת השם שלה עם סוגריים אחריו.

הקוד הסופי יראה כך:

<details>
<summary>
הקוד הסופי
</summary>

```python
def func():
  # Hello World הפונקציה מדפיסה את המשפט
  print("Hello World")

func() # הקריאה לפונקציה
 ```
 
</details>
 
הקריאה לפונקציה תעשה את מה שכתוב בתוך הפונקציה. כך אנחנו יכולים לכתוב קטעי קוד פעם אחת ולהשתמש בהם כמה פעמים.

נסו לקרוא לפונקציה 3 פעמים ולראות מה יקרה. 

עכשיו נכתוב את הפונקציה שתדפיס את מצב הטלוויזיה - מהו הווליום ומהו הערוץ, באופן הבא:

```
volume : 0 
channel : 0
```

השלבים שנרצה לעשות:
- הגדרת הפונקציה ()print_state
- יצירת משתנה שישמור את הטקסט שנרצה להדפיס 
- הדפסת המשתנה שמכיל את הטקסט
- קריאה לפונקציה והרצת הקוד

<details>
<summary>
רמז
</summary>

```python
def print_state():
  string = # הטקסט שנרצה להדפיס

func() # הקריאה לפונקציה
 ```

</details>

<details>
<summary>
הקוד הסופי
</summary>

```python
def print_state():
    string = "volume : " + str(volume) + "\n" + "channel : " + str(channel)
    print(string)

print_state() # הקריאה לפונקציה
 ```

</details>


## הגברת הווליום באחד

### משתנים מקומיים 

משתנים שיוצרים בתוך הפונקציה הם משתנים מקומיים כלומר לאחר שהפונקציה מסיימת לרוץ הם נמחקים

כאשר בתוך הפונקציה מגדירים משתנה ששמו זהה למשתנה שקיים מחוץ לפונקציה שני המישתנים ישמרו במקומות שונים ביכרון המחשב והתוכנה תבדיל ביניהם באופן עצמאי, כך שאין צורך לדאוג מכך. 

לכן אם נריץ את הקוד הבא:
 
```python
example = 10       # הגדרת המשתנה הכללי

def inc_example(): # יצירת פונקציה שמגדילה את המשתנה
    example = 20   # שינוי המשתנה המקומי

inc_example()      # קריאה לפונקציה
print(example)     # הדפסת המשתנה הכללי
```

הקוד ידפיס את המספר 10


### פקודת return

נניח שאתם רוצים לכתוב פונקציה שמחשבת ערך ואחר כך להשתמש בערך הזה מחוץ לגבולות הפונקציה
בשביל זה אפשר להשתמש בפקודה return 
return היא פקודה שכותבים אותה בפונקציה ביחד עם ערך. הפקודה מפסיקה את הפונקציה ונותנת את הערך במקום שבו נקראה הפונקציה
כך זה נראה בקוד
 
```python
def simple_math(): # הגדרת פונקציה
  return 2+2       # הפונקציה מחשבת כמה זה 2+2 וזה מה שהיא מחזירה

x = simple_math()  # ששווה למה שהפונקציה מחזירה כלומר 4 x מגדירים משתנה
```


### הקוד עצמו

בשביל להעלות את הווליום באחד
:נחלק את העבודה לכמה שלבים
- נגדיר פונקציה בשם inc_volume 
- נשתמש בפקודה return בשביל להחזיר את הווליום פלוס 1 
- נקרא לפונקציה ונגדיר את הווליום כשווה להחזר הפונקציה 

<details>
<summary>
פתרון
</summary>

```python
volume = 10

def inc_volume():
   return volume + 1

volume = inc_volume()
```
</details>


## הורדת הווליום באחד

### מילת המפתח global

בשביל להוריד את הווליום אנחנו נשתמש במילת המפתח `global` שמגדירה את המשתנה כהאחד שהוגדר מחוץ לפונקציה 

שלבי העבודה של הפונקציה הזאת:
- נגדיר פונקציה בשם dec_volume 
- נגדיר את volume כגלובלי בכך שנרשום global לפניו
- נוריד 1 מvolume
- נקרא לפונקציה

<details>
<summary>
פתרון
</summary>
```python
volume = 10

def dec_volume():
  global volume
  volume = volume - 1

dec_volume()
```
</details>

## כתיבת פונקציה שמעבירה ערוץ

### פרמטרים

כדי לשנות את הערוץ לערוץ מסוים אחר אנחנו צריכים להשתמש בפרמטרים

פרמטרים הם ערכים שאתה מגדיר לפונקציה כשאתה קורא לה

כדי להשתמש בפרמטרים דבר ראשון צריך כשמגדירים את הפונקציה לכתוב את שם הפרמטר בסוגריים

```python
def name_of_the_function(name_of_parameter):
```

פונקציה יכולה לקבל כמה פרמטרים רק צריך לשים פסיק בינהם. לאחר הגדרת פרמטר
בפונקציה אפשר להשתמש בו כמו כל משתנה בפונקציה. כאשר קוראים לפונקציה צריך למלא את
הערך של הפרמטרים לפי הסדר. נניח שאתם רוצים לכתוב פונקציה שמחברת שני מספרים
ומדפיסה את התוצאה.

<details>
<summary>
פתרון
</summary>

```python
def add(num1, num2):
  print(num1 + num2)

add(2, 5)
```

</details>

### הקוד עצמו

שלבי המשימה:
- הגדרת פונקציה שמקבלת פרמטר של ערוץ
- נשתמש בglobal בשביל להתיחס לערוץ הגלובלי 
- שינוי הערוץ שיהיה שווה לערך הפרמטר
- קריאה לפונקציה עם ערוץ חדש

<details>
<summary>
פתרון
</summary>

```python
def change_channel(new_channel):
  global channel
  channel = new_channel

change_channel(34)
```

</details>


## משימת בונוס

### לקיחת פקודות מהמשתמש

על מנת לקחת פקודות מהמשתמש אנחנו נצטרך:
- ליצור משתנה `user_command` שמקבל טקסט מהמשתמש
- להעביר את הטקסט בתנאי `if` על מנת לגלות לאיזה פקודה הוא התכוון
- להפנות את הטקסטים `print state` ו`dec volume` לפונקציות `print_state` ו`dec_volume`
- להפנות את inc volume לפונקציה inc_volume ולשנות את הערך של `volume` להחזר
- לבדוק אם הטקסט הוא change channel ואם כן לבקש ערוץ מהמשתמש ולהעביר אותו בפרמטר ב`change_channel`


<details>
<summary>
רמז
</summary>

תנסו להתחיל עם להבין מה הפונקציה הנכונה

```python
user_command = input("command: ")

if user_command == "print state":
  # ...
if user_command == "inc volume":

# ...
```

</details>

<details>
<summary>
פתרון
</summary>

```python
user_command = input("command: ")

if user_command == "print state":
  print_state()
if user_command == "inc volume":
  volume = inc_volume()
if user_command == "dec volume":
  dec_volume()
if user_command == "change channel":
  target_channel = input("please enter target channel")
  change_channel(target_channel)
```

</details>

{: style="margin-top: 2em" }

_This lessson was written by GreenBlitz #4590 for Sheep16 Schools_
{: style="text-align:center" }
