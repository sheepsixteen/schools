---
layout: post
date: 2020-10-03 16:03 +0100
title: לולאות
lesson_number: 6
---

נניח שתלמיד בכיתה ט רוצה לחשב את ממוצע הציונים שלו במקצוע הנדסת תוכנה

אם בשנה הזו היו לתלמיד 4 מבחנים, הוא יצטרך לסכום את ציוני המבחנים האלו ולחלק את הסכום ב4

לדוגמה, אם הציונים שלו הם: `82`, `79`, `84`, `91` הממוצע שלו יהיה 4/(82+79+84+91)= 84

נפרק את הבעייה לחתיכות:
-----------------------

  1. נצטרך שיהיה לנו משתנה שבו נסכום את הציונים של התלמיד
  2. לקבל את הציון ה#1 של התלמיד ולחבר אותו למשתנה סכום הציונים
  3. לקבל את הציון ה#2 של התלמיד ולחבר אותו למשתנה סכום הציונים
  4. לקבל את הציון ה#3 של התלמיד ולחבר אותו למשתנה סכום הציונים
  5. לקבל את הציון ה#4 של התלמיד ולחבר אותו למשתנה סכום הציונים
  6. נצטרך לחלק את סכום הציונים של התלמיד ב4(שכן יש לו ארבעה ציונים) ואת התוצאה(שהיא ממוצע הציונים) נשמור במשתנה
  7. ולבסוף, יהיה עלינו להדפיס הודעה המבשרת לתלמיד את ממוצע הציונים שלו

יצירת משתנה שבו נסכום את ציוני התלמיד:
--------------------------------------

בשלבים הבאים, נחבר למשתנה זה את כל אחד מהציונים של התלמיד, לכן כשאנחנו יוצרים את המשתנה חשוב שהוא יהיה מאופס בשביל שלא ישנה את סכום הציונים.

פתחו את סביבת התכנות שלכם וצרו את המשתנה שבהמשך יכלול את סכום הציונים של התלמיד

```python
grade_sum = 0
```

שימו לב שכדאי שלמשתנה יהיה שם ברור שמסביר בדיוק את מטרתו

קבלת הציונים מהתלמיד:
---------------------

כדי לקבל ציון מהמשתמש ולהוסיף אותו למשתנה שהרגע יצרנו, עלינו להשתמש בפונקצית ה input כפי שלמדתם בשיעורים הקודמים. נכתוב:

```python
grade_sum += int(input("הודעת בקשה לציון"))
```

שימו לב שמאוד חשוב לעשות המרה לint !

להזכירכם, הפונקצית input מקבלת מחרוזת ולכן אם לא נמיר את הקלט לint נקבל שגיאה על פעולות החיבור והחילוק שנבצע בקרוב( כי פעולת החילוק במחרוזות לא מוגדרת)...

כעת, על פי השלבים שהגדרנו קודם לכן בפירוק הבעייה, נחזור על השורה הזאת עוד פעם ועוד פעם ועוד פעם ועוד פעם.... כמו שאתם רואים, שלבים 2 עד 5 טיפונת חוזרים על עצמם. בשביל להקל על החיים שלנו נשתמש בלולאה במקום. לולאות הן כלי שמאפר לנו לחזור על שורת קוד כמה פעמים שמתחשק לנו בלי שנצטרך להקליד אותה שוב ושוב ושוב עד שמשתעממים למוות.

הסבר קצר על לולאת for:
----------------------

יש כמה סוגים של לולאות, סוג מרכזי ושימושי ביותר נקרא לולאת for ויש כמה דרכים שניתן להשתמש בה. היום נלמד דרך אחת חשובה בה הלולאה נראית כך:

```python
for i in range(מספר):
  # קוד שאנחנו חוזרים עליו
```

לפני שנסביר איך לולאת הfor עובדת, נזכיר איך הפונקציה `range()` עובדת: 

הפונקציה מחזירה מספרים מאפס(בברירת מחדל) עד המספר שנותנים לה

לדוגמה: `range(4)` מחזירה את אוסף כל המספרים מאפס עד ארבע (לא כולל)

לולאת ה- for נותנת למשתנה שהגדרנו בה כל פעם את הערך הבא ב- range, עד שנגמר ה-
range. לדוגמה, הלולאה הבאה תעבור על הrange מתחילתו ועד סופו, כלומר מ0 ועד 3 וכל
פעם תדפיס hi.

```python
for i in range(4):
  print(“hi”)
```

כלומר הלולאה תדפיס hi ארבע פעמים (בהתאם למספר שכתבנו בrange())
שימו לב שכמו בif, כל בלוק הקוד הנכתב תחת הלולאה בהזחה נכנס ללולאה.

נחזור לבעייה שלנו
-----------------

כפי שאתם זוכרים, אנחנו צריכים לחזור על השורה הבאה 4 פעמים:

```python
grade_sum += int(input("הודעת בקשה לציון"))
```

לכן, כיתבו כעת לולאה כמו שלמדנו, שחוזרת על עצמה 4 פעמים, ותחתיה כתבו את שורת
הקוד. הפתרון יהיה לכתוב כך:

```python
for i in range(4):
  grade_sum += int(input("Please enter a grade:"))
```

לאחר שורות אלו, המשתנה grade_sum יכלול בתוכו את סכום כל הציונים של התלמיד.

חישוב הממוצע:
-------------

כעת, ניצור משתנה שבו נשמור את ממוצע הציונים. הערך שניתן למשתנה זה יהיה תוצאת החילוק של סכום הציונים בארבע.

```python
grade_average = grade_sum / 4
```

הדפסת תשובה למשתמש:
-------------------

בהתאם לחוקי ההדפסה שלמדתם בשיעורים הקודמים, החזירו לתלמיד בתשובה את ממוצע ציוניו.

זיכרו, ניתן לשלב משתנים בהדפסה באמצעות סוגרים מסולסלים ושיטת הformat כך:

```python
print("Your grade average is {}".format(grade_average))
```

זהו! הריצו את הקוד שלכם, הזינו ציונים שונים ומצאו את הממוצע

סיכום הקוד:
-----------

לחצו עלי רק אם הנכם רוצים לבדוק שהקוד שלכם אכן מעולה!

הקוד שלכם צריך להראות בערך כך:

```python
grade_sum = 0
for i in range(4):
  grade_sum += int(input("Please enter a grade:"))

grade_average = grade_sum / 4
print("Your grade average is {}".format(grade_average))
```

נשדרג את הבעייה:
----------------

הבעייה המקורית שלנו הייתה מאוד ספציפית: מראש ידענו שלתלמיד יש בהכרח 4 ציונים שמהם הוא רוצה למצוא ממוצע. אבל מה קורה אם פתאום המורה הקשוח מחליט להוסיף עוד בוחן פתע השנה? מה אם לתלמיד יש רק 2 ציונים מהשנה, או שהוא רוצה למצוא ממוצע בין 8 ציונים? בשלב הבא ניצור תכנית גמישה שלא מחייבת שנדע מראש כמה ציונים יש למשתמש.

בבעיה הזו, נרצה שהתלמיד יוכל להזין מספר בלתי מוגבל של ציונים וכשהוא רוצה להפסיק הוא יזין מספר מיוחד שאינו ציון לדוגמה 1- וכך נדע שהוא סיים להזין ציונים.

נפרק את הבעייה לחתיכות:
-----------------------

  1. כמו קודם, נצטרך שיהיה לנו משתנה שבו נסכום את הציונים של התלמיד
  2. הפעם, נצטרך גם משתנה שימנה את מספר הציונים שהמשתמש מעביר
  3. נקבל ערך מהמשתמש והפעם נשמור אותו במשתנה
  4. עבור כל ערך מהמשתמש יהיה עלינו לבדוק האם זהו 1-
       * אם הערך שונה מ1- אז הוא ציון, לכן:
       * נחבר את הציון למשתנה של סכום הציונים כמו פעם שעברה
         * נגדיל באחד את משתנה שמונה את מספר הציונים
         * אחרת המשתמש העביר 1- ולכן נפסיק לקבל ממנו ערכים ונמשיך הלאה
  5. בדומה לקודם, נחלק את סכום הציונים של התלמיד הפעם במשתנה המונה את מספר ציוניו ונשמור את התוצאה משתנה הממוצע
  6. לבסוף, יהיה עלינו להדפיס הודעה המבשרת לתלמיד את ממוצע הציונים שלו

נכתוב תכנית חדשה:
-----------------

### יצירת משתנים:

כמו קודם ניצור:

```python
grade_sum = 0
```

בנוסף ניצור משתנה שימנה את מספר הציונים שמהמשתמש מזין:

```python
grade_counter = 0
```

### קבלת הציונים מהתלמיד:

ניצור משתנה שישמור את הערך הנוכחי שהמשתמש מעביר. נקבל מהמשתנה מספר באותה צורה שאעשינו בבעייה הקודמת:

```python
current_grade = int(input("Please enter a grade:"))
```

כעת, עלינו להגדיל את מספר הציונים ולחבר את הציון הנוכחי לסכום הציונים ולחזור על
שלבים אלו בלולאה רק אם הערך שקיבלנו מהמשתמש שונה מ1-.

### הסבר קצר על לולאת `while`:

לולאת while הינה הסוג השני המרכזי של לולאות, והיא נראית כך:

```python
while ביטוי בוליאני:
  # פקודות בתוך הלולאה
```

נזכיר שביטוי בוליאני הוא שורת קוד שיכולה להחזיר אמת או שקר, לדוגמה: 5>9 הינו
ביטוי בוליאני שתמיד מחזיק שקר. ביטוי בוליאני יכול גם לכלול משתנים בעלי ערך,
לדוגמה: var != 5.

הלולאה בודקת האם הביטוי הבוליאני מחזיר ביטוי אמת, אם כן היא מקיימת את הפקודות
הכתוב בתוכה ובסופה היא חוזרת ובודקת שוב את הביטוי הבוליאני, ואם לא היא ממשיכה
הלאה.

![How while loops work](https://i.imgur.com/LK8r0tM.png)

לדוגמה הלולאה הבאה מדפיסה hi כל עוד הקלט מהמשתמש שונה מ1-:

```python
num = int(input("Please enter a number:"))

while num != -1:
  print(“hi”)
  num = int(input("Please enter a number:"))
```

**שימו לב** שבסוף הלולאה יש לעדכן את num אחרת הוא ישאר קבוע ואף פעם לא יהיה שווה ל1-, ולכן הלולאה תחזור על עצמה אין סוף פעמים. לולאה כזו, תקרא לולאה אין סופית והיא תגרום שגיאה. לולאות אין סופיות נפוצות כשהמתכנת לא מתכונן לכל האפשרויות או מתכנת בעייה לוגית בלולאה, לכן תמיד כשכותבים לולאות יש לשאול את עצמנו האם יש מצב שהלולאה תמשיך לנצח? האם היא יכולה לעצור?

נחזור לבעייה שלנו
-----------------

נשתמש בלולאת while לקבל את הציונים מהמשתמש. בבעיה שלנו, הגדרנו את קבלת הערך 1- מהמשתמש בתור התנאי להפסיק לקבל ציונים, כלומר זה יהיה התנאי שלנו להפסקת הלולאה. נכתוב בהתאם לכך את הגדרת הלולאה:

```python
while current_grade != -1:
```

בהתאם לשלבים בפירוק הבעייה, אמרנו שאם אכן הערך מהמשתמש שונה מ1-, כלומר נכנס ללולאה:

  * נחבר את הציון למשתנה של סכום הציונים כמו פעם שעברה 
  * נגדיל באחד את משתנה שמונה את מספר הציונים

לכן נכתוב את שני שורות אלו בתוך הלולאה:

```python
grade_sum += current_grade
grade_counter += 1
```

זכרו לכתוב את שורות אלו בהזחה כדי שהן יחשבו בתוך הלולאה.

כעת, בסוף הלולאה חשוב לעדכן את current_grade, כדי שכשהלולאה חוזרת לבדוק את
הביטוי הבוליאני היא תבדוק אותו עבור הציון החדש. נעדכן את `current_grade` בדיוק באותה הדרך שעשינו קודם לכן:

```python
current_grade = int(input("Please enter a grade:"))
```

בשלב זה סיימנו את הלולאה.

### חישוב הממוצע:

כעת, ניצור משתנה שבו נשמור את ממוצע הציונים כמו שעשינו בבעיה הקודמת. אבל הפעם, הערך שניתן למשתנה הזה יהיה תוצאת החילוק בין סכום הציונים לבין כמות הציונים שכן בבעיה זו כמות הציונים אינה קבועה.

לכן, משתנה הממוצע יראה כך:

```python
grade_average = grade_sum / grade_counter
```

### הדפסת תשובה למשתמש:

בדיוק כמו בבעיה הקודמת, נחזיר לתלמיד את ממוצע הציונים שלו ונאחל לו בהצלחה!

```python
print("Your grade average is {}".format(grade_average))
```


### עכשיו השלב הכי חשוב: תריצו את הקוד שלכם!

את הקוד הזה אתם יכולים להריץ למשך שנים עד שנגמר לכם הכוח :)

אם קיבלתם שגיאות אתם מוזמנים לחזור ולהשוות את הקוד שלכם

<details>
<summary>

סיכום הקוד: לחצו עלי רק כדי לוודא שכתבתם קוד כמו האקרים מקצועיים

</summary>


הקוד שלכם צריך להראות בערך כך:

```python
grade_counter = 0
grade_sum = 0
current_grade = int(input("Please enter a grade:"))

while current_grade != -1:
  grade_sum += current_grade
  grade_counter += 1
  current_grade = int(input("Please enter a grade:"))

grade_average = grade_sum/grade_counter
print("Your grade average is {}".format(grade_average))
```

</details>

{: style="margin-top: 2em" }

_This lessson was written by Maayan Chechik for Sheep16 Schools_
{: style="text-align:center" }
